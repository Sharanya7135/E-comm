<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile & Settings</title>
    <link rel="stylesheet" href="css/profile.css">
    <!-- Firebase App (core SDK) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <!-- Firebase Authentication -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <!-- If you're using Firestore -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>

<body class="light">

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Dashboard</h3>
            <button class="toggle-btn" id="toggleBtn">‚ò∞</button>
        </div>
        <div class="profile-container">
            <img id="profilePicture" class="profile-pic" src="https://avatar.iran.liara.run/public/93">
            <span id="welcomeMessage">Welcome,</span>
            <span id="userEmail"></span>
        </div>
        <div class="sidebar-menu">
            <div class="menu-item" onclick="redirectTo('Detail')">üìä Dashboard</div>
            <div class="menu-item active" onclick="redirectTo('profile')">üë§ Profile</div>
            <div class="menu-item" onclick="redirectTo('Cart')">üõí Cart</div>
            <div class="menu-item" onclick="redirectTo('feedback')">üìù Feedback</div>
        </div>
    </div>

    <!-- Profile & Settings Section -->
    <div class="container">
        <div class="profile-card">
            <h2>User Profile</h2>
            <div id="image-loading" style="display: none; text-align: center;">Loading...</div>
            <img id="profile-pic" class="profile-pic" src="https://avatar.iran.liara.run/public/93" alt="Profile Picture">            
            <input type="file" id="profileImage" accept="image/*" style="display: none;">
            <button onclick="document.getElementById('profileImage').click()">Upload Image</button>
            <button onclick="deleteProfilePicture()">Delete Picture</button>
            <input type="text" id="username" placeholder="Enter your name">
            <input type="email" id="email" disabled>
            <button onclick="updateProfile()">Update Profile</button>
            <input type="text" id="customWelcome" placeholder="Custom Welcome Message" style="display: none;">
        <button onclick="toggleWelcomeEdit()">Edit Welcome</button>
        </div>
        <div class="password-card">
            <h3>Change Password</h3>
            <input type="password" id="newPassword" placeholder="New Password">
            <button onclick="updatePassword()">Update Password</button>
        </div>
        <div class="settings-card">
            <h3>Settings</h3>
            <label>Theme</label>
            <select id="theme">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
            </select>

            <div class="switch">
                <label>Enable Notifications</label><input type="checkbox" id="notifications">
            </div>

            <button id="saveSettingsBtn" onclick="updateSettings()">Save Settings</button>
            <button onclick="resetSettings()">Reset Settings</button>
            <p id="settingsStatus" style="color: green; display: none;">Saving...</p>
        </div>

        <button class="logout-btn" onclick="redirectTo('logout')">Logout</button>
    </div>

    <script src="js/profile.js"></script>
</body>

</html>

</body>

</html>